# ☁️ Gas

Gas は Wei と同様に Ethereum における基本単位です。

トランザクションの実行、EVM でのオペコード実行など、Ethereum 上で計算リソースを利用する際の基本単位が Gas です。

Gas はマイナーへの仕事の対価という側面と、DOS 攻撃に対する防御策という側面を持っています。

## Gas はどのように使われるか

トランザクションの実行の際に EVM にはユーザーが指定した分の Gas が与えられ、実行が開始されます。

Gas はオペコードの実行ごとに減少していきます。どのオペコードがどれだけ Gas を消費するかはすでに決まっています。([Ethereum Virtual Machine について](./guide.md)の Opcode 一覧参照)

#### Gas が足りていた場合

コントラクトコードの実行に消費した Gas は手数料としてイーサに変換されマイナーに報酬として支払われます。

余ったガスは送信者のもとに送り返されます。

#### Gas が足りなかった場合

供給された Gas がコントラクトコードを実行するのに必要な Gas より少なかった場合、例外(Out Of Gas)が発生します。

トランザクションが中断されるため Ethereum へのステート反映は生じませんが、マイナーの計算資源を利用したことには変わりはないのでトランザクションを送信した人はその分の Gas を消費することになります。
